var capitalize=e=>e.charAt(0).toUpperCase()+e.slice(1);(async e=>{let[o,t]=e;var a=JSON.parse(atob(localStorage.token.split(".")[1])).name,n=await fetch("https://api.blooket.com/api/users/tokens?name="+a,{headers:{referer:"https://www.blooket.com/","content-type":"application/json",authorization:localStorage.token}}),r={blizzard:25,spooky:25,blizzard:25,spooky:25,aquatic:25,bot:20,space:20,breakfast:15,medieval:15,wonderland:20}[o],l=t>Math.floor(n/r)?Math.floor(n/r):t;new Promise(e=>{inv=[],end=(o=>{clearInterval(o),e({fail:!1,blooks:inv})});let t=setInterval(()=>{if(!l)return end(t);fetch("https://api.blooket.com/api/users/unlockblook",{headers:{authorization:localStorage.token,"content-type":"application/json;charset=UTF-8"},referrer:"https://www.blooket.com/",body:JSON.stringify({name:a,box:o}),method:"PUT"}).then(async e=>200!=e.status?end(t):(inv.push(await e.json()),--l?void 0:end(t))).catch(e=>end(t))},128)}).then(async e=>{if(e.fail)return alert("You don't have enough coins to open this box!");let o={};Promise.all(e.blooks).then(e=>{e.map(e=>e.unlockedBlook).forEach(e=>{o[e]=(o[e]||0)+1}),alert("Results:\n"+Object.entries(o).map(e=>`    ${e[1]} ${e[0]}`).join("\n"))})})})([(e=>e.charAt(0).toUpperCase()+e.slice(1))(prompt('What box do you want to open? (e.g. "Space") The limited boxes will not open if they are not avaible')),Number(prompt("How many do you want to open?"))]);
